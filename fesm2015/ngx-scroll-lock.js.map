{"version":3,"file":"ngx-scroll-lock.js.map","sources":["ng://ngx-scroll-lock/lib/ngx-scroll-lock.component.ts","ng://ngx-scroll-lock/lib/ngx-scroll-lock.module.ts"],"sourcesContent":["import {\n  Component,\n  OnInit,\n  OnDestroy,\n  Input,\n  OnChanges,\n  SimpleChanges,\n  ViewEncapsulation,\n} from '@angular/core';\n\n@Component({\n  selector: 'ngx-scroll-lock',\n  template: `\n    <style>\n      .ngx-scroll-lock {\n        box-sizing: border-box !important;\n        overflow: hidden !important;\n        position: inherit !important;\n      }\n    </style>\n    <ng-content></ng-content>\n  `,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class NgxScrollLockComponent implements OnInit, OnDestroy, OnChanges {\n  @Input()\n  target = '';\n\n  @Input()\n  lock = false;\n\n  private _targetElement: HTMLElement;\n\n  private _listenerOptions = {\n    capture: false,\n    passive: false,\n  };\n\n  ngOnInit() {\n    this._targetElement = this.target\n      ? document.querySelector(this.target)\n      : document.body;\n\n    if (this.lock) {\n      this.disableLock(this._targetElement);\n    }\n  }\n\n  ngOnDestroy() {\n    this.enableLock(this._targetElement);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (\n      changes.target &&\n      !changes.target.firstChange &&\n      changes.target.previousValue !== changes.target.currentValue\n    ) {\n      this.enableLock(this._targetElement);\n      this._targetElement = this.target\n        ? document.querySelector(this.target)\n        : document.body;\n      if (this.lock) {\n        this.disableLock(this._targetElement);\n      }\n    }\n    if (\n      changes.lock &&\n      !changes.lock.firstChange &&\n      changes.lock.previousValue !== changes.lock.currentValue\n    ) {\n      changes.lock.currentValue\n        ? this.disableLock(this._targetElement)\n        : this.enableLock(this._targetElement);\n    }\n  }\n\n  disableLock(target: HTMLElement) {\n    this._targetElement.classList.add('ngx-scroll-lock');\n\n    // Mobile Safari ignores { overflow: hidden } declaration on the body.\n    this._targetElement.addEventListener(\n      'touchmove',\n      this.preventTouchMove,\n      this._listenerOptions\n    );\n  }\n\n  enableLock(target: HTMLElement) {\n    this._targetElement.classList.remove('ngx-scroll-lock');\n\n    this._targetElement.removeEventListener(\n      'touchmove',\n      this.preventTouchMove,\n      this._listenerOptions\n    );\n  }\n\n  isTouchDevice() {\n    if (typeof window === 'undefined' || !window) return false;\n    return 'ontouchstart' in window || navigator.maxTouchPoints;\n  }\n\n  preventTouchMove(rawEvent: TouchEvent): boolean {\n    const e = rawEvent || { ...window.event, touches: [] };\n\n    // // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom)\n    if (e.touches && e.touches.length > 1) return true;\n\n    if (e.preventDefault) e.preventDefault();\n\n    return false;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxScrollLockComponent } from './ngx-scroll-lock.component';\n\n@NgModule({\n  declarations: [NgxScrollLockComponent],\n  imports: [\n  ],\n  exports: [NgxScrollLockComponent]\n})\nexport class NgxScrollLockModule { }\n"],"names":[],"mappings":"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"}
